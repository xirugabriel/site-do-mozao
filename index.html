<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nosso Cantinho ‚ù§Ô∏è</title>

  <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="stars-layer far"></div>
    <div class="stars-layer near"></div>


  <!-- TELA DE SUSPENSE -->
  <div id="intro" class="intro-screen">
    <div class="intro-card">
      <p>Tenho uma coisinha pra te mostrar‚Ä¶ üíå</p>
      <button id="btn-revelar">Clique para ver</button>
    </div>
  </div>

  <!-- CONTE√öDO PRINCIPAL (COME√áA ESCONDIDO) -->
  <div id="conteudo-principal" class="conteudo">
    
    <!-- CAMADAS DO C√âU ESTRELADO -->
    <div class="stars"></div>
    <div class="stars2"></div>
    <div class="stars3"></div>

    <div class="meteor"></div>


    <!-- Cabe√ßalho do site -->
    <header>
      <h1>Nosso Cantinho ‚ù§Ô∏è</h1>
      <p>Um pedacinho do nosso amor guardado aqui</p>
    </header>

    <!-- Tempo que estamos juntos -->
    <section class="tempo-juntos">
      <h2>Tempo que estamos juntos ‚è±Ô∏è</h2>
      <p id="tempo-juntos-texto">
        carregando...
      </p>
    </section>

    <!-- Galeria de fotos - Carrossel -->
    <section class="galeria-slider">
      <div class="slider-container">
        <button class="nav prev">‚Äπ</button>

        <div class="slider">
          <div class="slide active">
            <img src="foto1.jpg" alt="Foto 1">
            <p class="caption">Um dia antes do TE AMO üí´</p>
          </div>

          <div class="slide">
            <img src="foto2.jpg" alt="Foto 2">
            <p class="caption">Um dia simples que virou especial ‚ú®</p>
          </div>

          <div class="slide">
            <img src="foto3.jpg" alt="Foto 3">
            <p class="caption">Marombinhas üíï</p>
          </div>

          <div class="slide">
            <img src="foto4.jpg" alt="Foto 4">
            <p class="caption">E que venham muitos momentos assim üåô</p>
          </div>
        </div>

        <button class="nav next">‚Ä∫</button>
      </div>

      <div class="dots">
        <button class="dot active" data-index="0"></button>
        <button class="dot" data-index="1"></button>
        <button class="dot" data-index="2"></button>
        <button class="dot" data-index="3"></button>
      </div>
    </section>

    <!-- Mensagem -->
    <section class="mensagem">
      <h2>Para voc√™, meu amor üíï</h2>
      <p>
        Cada momento ao seu lado √© √∫nico.  
        Esse site √© s√≥ um lembrete do quanto voc√™ √© especial pra mim.
      </p>
      <p>
        Obrigado por tudo que temos vivido juntos.  
        TE AMO ‚ù§Ô∏è
      </p>
    </section>

    <!-- Rodap√© -->
    <footer>
      Feito com ‚ù§Ô∏è por mim, especialmente para voc√™.
    </footer>
  </div>

  <script>
    // ===============================
    //   TIMER "TEMPO JUNTOS"
    // ===============================
    const inicio = new Date('2025-07-20T00:00:00'); // TROCAR PELA DATA DE VOC√äS

    function atualizarTempo() {
      const agora = new Date();
      const diffMs = agora - inicio;

      const segundos = Math.floor(diffMs / 1000);
      const minutos  = Math.floor(segundos / 60);
      const horas    = Math.floor(minutos / 60);
      const dias     = Math.floor(horas / 24);

      const restoHoras   = horas % 24;
      const restoMinutos = minutos % 60;
      const restoSeg     = segundos % 60;

      const texto = `${dias} dias, ${restoHoras} horas, ${restoMinutos} minutos e ${restoSeg} segundos`;

      const elemento = document.getElementById('tempo-juntos-texto');
      if (elemento) elemento.textContent = texto;
    }

    atualizarTempo();
    setInterval(atualizarTempo, 1000);

    // ===============================
    //   CARROSSEL DE FOTOS
    // ===============================
    const slider        = document.querySelector('.slider');
    const slides        = document.querySelectorAll('.slide');
    const dots          = document.querySelectorAll('.dot');
    const prevBtn       = document.querySelector('.nav.prev');
    const nextBtn       = document.querySelector('.nav.next');
    const sliderCont    = document.querySelector('.slider-container');

    let currentSlide = 0;
    let slideInterval;

    function updateSlider() {
      if (!slider) return;
      slider.style.transform = `translateX(-${currentSlide * 100}%)`;

      slides.forEach((slide, index) => {
        slide.classList.toggle('active', index === currentSlide);
      });

      dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentSlide);
      });
    }

    function goToSlide(index) {
      const total = slides.length;
      currentSlide = (index + total) % total;
      updateSlider();
    }

    function nextSlide() {
      goToSlide(currentSlide + 1);
    }

    function prevSlide() {
      goToSlide(currentSlide - 1);
    }

    if (prevBtn && nextBtn) {
      prevBtn.addEventListener('click', () => {
        prevSlide();
        resetAutoplay();
      });

      nextBtn.addEventListener('click', () => {
        nextSlide();
        resetAutoplay();
      });
    }

    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        goToSlide(index);
        resetAutoplay();
      });
    });

    function startAutoplay() {
      stopAutoplay();
      slideInterval = setInterval(nextSlide, 5000);
    }

    function stopAutoplay() {
      if (slideInterval) clearInterval(slideInterval);
    }

    function resetAutoplay() {
      startAutoplay();
    }

    if (sliderCont) {
      sliderCont.addEventListener('mouseenter', stopAutoplay);
      sliderCont.addEventListener('mouseleave', startAutoplay);
      sliderCont.addEventListener('touchstart', stopAutoplay, { passive: true });
      sliderCont.addEventListener('touchend', startAutoplay, { passive: true });
    }

    if (slides.length > 0) {
      updateSlider();
      startAutoplay();
    }

    // ===============================
    //   TELA DE SUSPENSE / REVELAR
    // ===============================
    const intro     = document.getElementById('intro');
    const btnReveal = document.getElementById('btn-revelar');
    const conteudo  = document.getElementById('conteudo-principal');

    if (conteudo) {
      // come√ßa escondido
      conteudo.classList.remove('visible');
    }

    if (btnReveal && intro && conteudo) {
      btnReveal.addEventListener('click', () => {
        intro.classList.add('fade-out');
        conteudo.classList.add('visible');

        setTimeout(() => {
          intro.style.display = 'none';
        }, 900); // tempo igual ao da anima√ß√£o
      });
    } else {
      // se algo der errado, mostra o conte√∫do direto
      if (conteudo) conteudo.classList.add('visible');
    }

    function random(min, max) {
  return min + Math.random() * (max - min);
}

function spawnMeteor() {
  const meteor = document.querySelector(".meteor");

  // posi√ß√£o inicial aleat√≥ria
  const startX = random(0, 100);
  meteor.style.left = `${startX}vw`;
  meteor.style.top = `110vh`;

  // rastro aleat√≥rio
  meteor.style.height = `${random(140, 260)}px`;

  // brilho aleat√≥rio
  meteor.style.opacity = random(0.55, 1);

  // velocidade
  const duration = random(0.9, 1.8);

  // √¢ngulo (leve varia√ß√£o)
  const angle = 33 + Math.random() * 6;
  const rad = angle * (Math.PI / 180);

  const travelX = 700;
  const travelY = -1150;

  // reset
  meteor.style.transition = "none";
  meteor.style.transform = `translate3d(0, 0, 0) rotate(${angle}deg)`;
  void meteor.offsetWidth; // reflow

  meteor.style.transition = `transform ${duration}s linear, opacity ${duration}s linear`;

  meteor.style.transform = `translate3d(${travelX}px, ${travelY}px, 0) rotate(${angle}deg)`;
  meteor.style.opacity = 0;

  // lan√ßar part√≠culas
  spawnParticles(startX);

  // spawn pr√≥ximo
  setTimeout(spawnMeteor, duration * 1000 + random(300, 1400));
}

// part√≠culas cinematogr√°ficas
function spawnParticles(startX) {
  const count = Math.floor(random(4, 9));

  for (let i = 0; i < count; i++) {
    const p = document.createElement("div");
    p.classList.add("meteor-particle");
    document.body.appendChild(p);

    p.style.left = `${startX + random(-1, 1)}vw`;
    p.style.top = `calc(110vh - ${random(0, 20)}px)`;
    p.style.opacity = random(0.6, 1);

    const duration = random(0.6, 1.6);

    p.style.transition = `transform ${duration}s linear, opacity ${duration}s linear`;
    void p.offsetWidth;

    p.style.transform = `translate(${random(-120, 120)}px, ${random(-300, -600)}px) scale(${random(0.3, 1.2)})`;
    p.style.opacity = 0;

    setTimeout(() => {
      p.remove();
    }, duration * 1000);
  }
}

// start
setTimeout(spawnMeteor, 500);

// ===============================
//   CONTROLE POR ARRASTAR / SWIPE
// ===============================

let isSwiping = false;
let startX = 0;

function getClientX(event) {
  if (event.touches && event.touches.length > 0) {
    return event.touches[0].clientX;
  } else if (event.changedTouches && event.changedTouches.length > 0) {
    return event.changedTouches[0].clientX;
  } else {
    return event.clientX;
  }
}

function onSwipeStart(e) {
  isSwiping = true;
  startX = getClientX(e);
  if (typeof stopAutoplay === "function") stopAutoplay(); // se voc√™ estiver usando autoplay
}

function onSwipeEnd(e) {
  if (!isSwiping) return;
  isSwiping = false;

  const endX = getClientX(e);
  const diff = endX - startX;

  const LIMITE = 60; // quantos pixels precisa arrastar pra trocar de foto

  if (diff > LIMITE) {
    // arrastou da esquerda pra direita -> volta uma foto
    if (typeof prevSlide === "function") prevSlide();
  } else if (diff < -LIMITE) {
    // arrastou da direita pra esquerda -> pr√≥xima foto
    if (typeof nextSlide === "function") nextSlide();
  } else {
    // arrastou pouco -> fica na mesma
    if (typeof updateSlider === "function") updateSlider();
  }

  if (typeof startAutoplay === "function") startAutoplay();
}

if (slider) {
  // TOUCH (celular)
  slider.addEventListener("touchstart", onSwipeStart, { passive: true });
  slider.addEventListener("touchend", onSwipeEnd);

  // MOUSE (PC)
  slider.addEventListener("mousedown", onSwipeStart);
  slider.addEventListener("mouseup", onSwipeEnd);
  slider.addEventListener("mouseleave", () => { isSwiping = false; });
}

  </script>
</body>
</html>
